@Test
    public void testProcessOSPFMessage() throws Exception {
        ospfInterface.setIpAddress(Ip4Address.valueOf("11.11.11.11"));
        ospfInterface.setIpNetworkMask(Ip4Address.valueOf("225.225.225.225"));
        ospfInterface.setInterfaceType(2);
        ospfArea.setAreaId(Ip4Address.valueOf("12.12.12.12"));
        channelHandlerContext = EasyMock.createMock(ChannelHandlerContext.class);
        OspfMessage message;
        helloPacket = new HelloPacket();
        helloPacket.setSourceIp(Ip4Address.valueOf("1.1.1.1"));
        helloPacket.setRouterId(Ip4Address.valueOf("10.10.10.10"));
        helloPacket.setOspfVer(2);
        helloPacket.setAreaId(Ip4Address.valueOf("12.12.12.12"));
        helloPacket.setOptions(2);
        helloPacket.setNetworkMask(Ip4Address.valueOf("3.3.3.3"));
        helloPacket.setOspftype(1);
        helloPacket.setAuthType(0);
        helloPacket.setHelloInterval(60);
        helloPacket.setRouterDeadInterval(60);
        helloPacket.setAuthentication(0);
        checksumCalculator = new ChecksumCalculator();
        byteArray = helloPacket.asBytes();
        helloPacket.setOspfPacLength(byteArray.length);
        checkArray = checksumCalculator.calculateOspfCheckSum(byteArray, 12, 13);
        checkArray[0] = -53;
        checkArray[1] = 37;
        buf = ChannelBuffers.copiedBuffer(checkArray);
        helloPacket.setChecksum(buf.readUnsignedShort());
        message = helloPacket;
        ospfInterfaceChannelHandler.processOSPFMessage(message, channelHandlerContext);
        ddPacket = new DdPacket();
        ddPacket.setSourceIp(Ip4Address.valueOf("1.1.1.1"));
        ddPacket.setRouterId(Ip4Address.valueOf("10.10.10.10"));
        ddPacket.setOspfVer(2);
        ddPacket.setAreaId(Ip4Address.valueOf("12.12.12.12"));
        ddPacket.setOptions(2);
        ddPacket.setOspftype(2);
        ddPacket.setAuthType(0);
        ddPacket.setAuthentication(0);
        checksumCalculator = new ChecksumCalculator();
        byteArray = ddPacket.asBytes();
        ddPacket.setOspfPacLength(byteArray.length);
        checkArray = checksumCalculator.calculateOspfCheckSum(byteArray, 12, 13);
        checkArray[0] = -49;
        checkArray[1] = -79;
        buf = ChannelBuffers.copiedBuffer(checkArray);
        ddPacket.setChecksum(buf.readUnsignedShort());
        message = ddPacket;
        ospfInterfaceChannelHandler.processOSPFMessage(message, channelHandlerContext);
        lsRequest = new LsRequest();
        lsRequest.setSourceIp(Ip4Address.valueOf("1.1.1.1"));
        lsRequest.setRouterId(Ip4Address.valueOf("10.10.10.10"));
        lsRequest.setOspfVer(2);
        lsRequest.setAreaId(Ip4Address.valueOf("12.12.12.12"));
        lsRequest.setOspftype(3);
        lsRequest.setAuthType(0);
        lsRequest.setAuthentication(0);
        checksumCalculator = new ChecksumCalculator();
        byteArray = lsRequest.asBytes();
        lsRequest.setOspfPacLength(byteArray.length);
        checkArray = checksumCalculator.calculateOspfCheckSum(byteArray, 12, 13);
        checkArray[0] = -33;
        checkArray[1] = -58;
        buf = ChannelBuffers.copiedBuffer(checkArray);
        lsRequest.setChecksum(buf.readUnsignedShort());
        message = lsRequest;
        ospfInterfaceChannelHandler.processOSPFMessage(message, channelHandlerContext);
        lsUpdate = new LsUpdate();
        lsUpdate.setSourceIp(Ip4Address.valueOf("1.1.1.1"));
        lsUpdate.setRouterId(Ip4Address.valueOf("10.10.10.10"));
        lsUpdate.setOspfVer(2);
        lsUpdate.setAreaId(Ip4Address.valueOf("12.12.12.12"));
        lsUpdate.setOspftype(4);
        lsUpdate.setAuthType(0);
        lsUpdate.setAuthentication(0);
        checksumCalculator = new ChecksumCalculator();
        byteArray = lsUpdate.asBytes();
        lsUpdate.setOspfPacLength(byteArray.length);
        checkArray = checksumCalculator.calculateOspfCheckSum(byteArray, 12, 13);
        checkArray[0] = -47;
        checkArray[1] = -77;
        buf = ChannelBuffers.copiedBuffer(checkArray);
        lsUpdate.setChecksum(buf.readUnsignedShort());
        message = lsUpdate;
        ospfInterfaceChannelHandler.processOSPFMessage(message, channelHandlerContext);
        lsAck = new LsAcknowledge();
        lsAck.setSourceIp(Ip4Address.valueOf("1.1.1.1"));
        lsAck.setRouterId(Ip4Address.valueOf("10.10.10.10"));
        lsAck.setOspfVer(2);
        lsAck.setAreaId(Ip4Address.valueOf("12.12.12.12"));
        lsAck.setOspftype(5);
        lsAck.setAuthType(0);
        lsAck.setAuthentication(0);
        checksumCalculator = new ChecksumCalculator();
        byteArray = lsAck.asBytes();
        lsAck.setOspfPacLength(byteArray.length);
        checkArray = checksumCalculator.calculateOspfCheckSum(byteArray, 12, 13);
        checkArray[0] = -47;
        checkArray[1] = -74;
        buf = ChannelBuffers.copiedBuffer(checkArray);
        lsAck.setChecksum(buf.readUnsignedShort());
        message = lsAck;
        ospfInterfaceChannelHandler.processOSPFMessage(message, channelHandlerContext);
        assertThat(ospfInterfaceChannelHandler, is(notNullValue()));

    }